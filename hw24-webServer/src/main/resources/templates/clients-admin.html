<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Пользователи</title>
    <script type="text/javascript">
        function getUserById() {
            const userIdTextBox = document.getElementById('userIdTextBox');
            const userDataContainer = document.getElementById('userDataContainer');
            const id = userIdTextBox.value;
            //fetch('api/user?id=' + id)
            fetch('api/user/' + id)
                .then(response => response.json())
                .then(user => userDataContainer.innerHTML = JSON.stringify(user));
        }

function updateUser() {
            const userIdTextBox1 = document.getElementById('userIdTextBox1').value == "" ? "0" : document.getElementById('userIdTextBox1').value;
            const userIdTextBox2 = document.getElementById('userIdTextBox2').value;
            const userIdTextBox3 = document.getElementById('userIdTextBox3').value;
            const userIdTextBox4 = document.getElementById('userIdTextBox4').value;
	fetch('api/user/', {
			method: "POST",
			body : JSON.stringify({
				id: userIdTextBox1,
				name: userIdTextBox2,
				phoneList: [{phone: userIdTextBox3}],
				address: {address: userIdTextBox4}
			})
		})
		.then(response => response.json())
		.then(user => userDataContainer1.innerHTML = JSON.stringify(user));
}
    </script>
</head>

<body>
<h4>Получить пользователя по id</h4>
<input type="text" id="userIdTextBox" value="1" placeholder="Введите id пользователя">
<button onclick="getUserById()">Получить</button>
<pre id="userDataContainer"></pre>


<h4>Редактировать пользователя </h4>
<input type="text" id="userIdTextBox1"  placeholder="id"></br>
<input type="text" id="userIdTextBox2"  placeholder="name"></br>
<input type="text" id="userIdTextBox3"  placeholder="phone"></br>
<input type="text" id="userIdTextBox4"  placeholder="address"></br>
<button onclick="updateUser()">Обновить</button>
<pre id="userDataContainer1"></pre>


</body>
</html>